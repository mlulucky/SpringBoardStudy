<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout}">
<!-- üçâlayout:decorate ÌòÑÏû¨ ÌéòÏù¥ÏßÄÎ•º Î†àÏù¥ÏïÑÏõÉÏúºÎ°ú Íæ∏ÎØ∏Í≤†Îã§
        / Ïª®ÌÖçÏä§Ìä∏Îäî Î£®Ìä∏ Í≤ΩÎ°ú
        /layout.html ÌååÏùºÏùÑ Ï∞æÏïÑÏÑú Î†àÏù¥ÏïÑÏõÉÏúºÎ°ú ÏÇ¨Ïö©ÌïòÍ≤†Îã§.-->
<head>
    <meta charset="UTF-8">
    <title>Í≤åÏãúÌåê Î¶¨Ïä§Ìä∏</title>
</head>
<div layout:fragment="content">
    <h1 class="my-4">Í≤åÏãúÌåê Î¶¨Ïä§Ìä∏</h1>
    <!-- üçâÍ≤åÏãúÍ∏Ä Ï¢ãÏïÑÏöî ajax -->
    <script src="/public/js/BoardLike.js" defer></script>
<!--    <p th:text="${boards}"></p>--> <!-- Í≤åÏãúÍ∏Ä Î∂àÎü¨ÏôÄÏßÄÎäîÏßÄ Ï≤¥ÌÅ¨ (Ïª®Ìä∏Î°§Îü¨ÏóêÏÑú boards Í∞ùÏ≤¥Î•º Î≥¥ÎÉÑ)-->
    <section id="boardListCont" class="row row-cols-lg-2 row-cols-1 g-5"> <!-- g : ÏöîÏÜåÍ∞ÑÏùò Í∞ÑÍ≤© --> <!-- md ÏÇ¨Ïù¥Ï¶àÏùºÎïåÎßå, Í∑∏Î¶¨ÎìúÏùò ÎπÑÏú®ÏùÑ 3Í∞úÎ°ú / row-cols-1 : Ïä§Î™∞ÏÇ¨Ïù¥Ï¶àÏùºÎïå -->
        <div class="col" th:each="b:${boards}">
            <div class="card"> <!-- boards Ïùò ÏöîÏÜåÎßåÌÅºÏùÑ Î∞òÎ≥µÌï¥ÏÑú ÌïòÎÇòÏî© Î∞∞Ïò§Í∏∞ (Î∞òÎ≥µÎ¨∏) -->
                <div class="card-header d-flex justify-content-between align-items-center"> <!-- Ïò§Î•∏Ï™Ω ÎÅùÏúºÎ°ú Î≥¥ÎÇ¥Í∏∞ / stretch ÏÜçÏÑ±ÏúºÎ°ú ÏïÑÏù¥ÏΩòÏù¥ ÏúÑÎ°ú Ïò¨ÎùºÍ∞ÑÎã§ => ÏÑ∏Î°úÏ§ëÏïÑ ÎßûÏ∂îÍ∏∞ align-items-center -->
                    <div>
                        <!-- ÏûàÏùÑÎïåÎßå Ïù¥ÎØ∏ÏßÄÎ•º Ï∂úÎ†•ÌïòÍ≤†Îã§ th:if="${b.user.imgPath!=null}" -->
                        <img  th:if="${b.user.imgPath!=null}"
                              th:src="@{'{path}'(path=${b.user.imgPath})}"
                              alt="ÌîÑÎ°úÌïÑÏù¥ÎØ∏ÏßÄ"
                              style="width: 100px; object-fit: cover;" class="img-thumbnail"> <!-- object-fit:cover - ÏÇ¨ÏßÑÎπÑÏú® ÎßûÏ∂∞Ï§ÄÎã§. -->
                        <strong class="ms-2" th:text="${b.user.uId}"></strong> <!-- margin-start -->
                        (<strong th:text="${b.user.name}"></strong>)
                        <small class="text-muted">‚Ä¢</small>
                        <small th:text="${#dates.format(b.postTime,'yyy-MM-dd')}"></small> <!-- date.format(Îç∞Ïù¥Ìä∏Í∞ùÏ≤¥, Ìè¨Îß∑) ÏúºÎ°ú ÎÇ†Ïßú ÏòàÏÅòÍ≤å ÏàòÏ†ïÌïòÍ∏∞ -->  <!-- b.postTime ÏûêÎ∞îÍ∞ùÏ≤¥ : Tue Mar 28 11:34:12 KST 2023 -->
                    </div>
                    <div class="dropdown">
                        <a href="#" role="button" class="" data-bs-toggle="dropdown"> <!-- aÌÉúÍ∑∏ Î≤ÑÌäºÏúºÎ°ú Ïó≠Ìï†Ï£ºÍ∏∞ -->
                            <i class="bi bi-three-dots fs-4"></i> <!-- fs : font-size --> <!-- ÏõπÏûêÎ•¥ ÎùºÏù¥Î∏åÎü¨Î¶¨Îäî Ï∂îÍ∞ÄÌõÑÏóê ÏÑúÎ≤ÑÎ•º ÍªèÎã§ ÏºúÏïº Ï†ÅÏö©Ïù¥ ÎêúÎã§. -->
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" th:href="@{'/board/{bId}/detail.do'(bId=${b.bId})}">Í∏Ä ÏÉÅÏÑ∏</a>
                            </li>
                            <li><a class="dropdown-item" href="#">Í∏ÄÏì¥Ïù¥Í∞Ä ÏûëÏÑ±Ìïú Í∏ÄÎ™©Î°ù</a></li>
                            <li><a class="dropdown-item" href="#">Í≥ÑÏ†ï Ï†ïÎ≥¥</a></li>
                            <li>
                                <a class="dropdown-item text-danger" href="#">
                                    <i class="bi bi-bell"></i>
                                    Ïã†Í≥†
                                </a>
                            </li>
                        </ul>
                    </div>
                </div> <!-- // Ïπ¥Îìú header : ÏïÑÏù¥Îîî, Ïù¥Î¶Ñ, ÏûëÏÑ±Ïùº, ÎçîÎ≥¥Í∏∞ Î≤ÑÌäº -->
                <div class="card-body">
                    <!-- Ïù¥ÎØ∏ÏßÄ -->
                    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="/public/img/board/Ï∂òÏãùÏù¥ÎùºÏù¥Ïñ∏.jpg" class="d-block w-100" alt="Í≤åÏãúÍ∏Ä Ïù¥ÎØ∏ÏßÄ">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div> <!-- // Ïù¥ÎØ∏ÏßÄ -->

                    <div>
                        <h5 class="card-title" th:text="${b.title}"></h5>
                        <p class="card-text" th:text="${b.content}"></p>
                    </div>
                </div> <!-- // Ïπ¥Îìú body : Ïù¥ÎØ∏ÏßÄ, Ï†úÎ™©, ÎÇ¥Ïö© -->

                <div class="card-footer  d-flex align-items-center">
                    <!-- likes Î•º Îî∞Î°úÎπºÏÑú Ïû¨ÌôúÏö©Ìï† Ïàò ÏûàÎã§. -->
                    <!-- th:with= Ìï¥Îãπ Î∏îÎü≠ ÌïòÏúÑÏóêÏÑú likes ÎùºÎäî ÏßÄÏó≠ Î≥ÄÏàòÎì±Î°ù (Ï†ÑÏó≠Î≥ÄÏàòÎäî Î∂àÍ∞Ä) -->
<!--                    session Ïóê Î°úÍ∑∏Ïù∏ Ïú†Ï†ÄÍ∞Ä null Ïù¥ ÏïÑÎãàÎ©¥-->
<!--                    unless == ÌÉÄÏûÑÎ¶¨ÌîÑ else (ÎòëÍ∞ôÏùÄ Ï°∞Í±¥ ~ Í∞Ä ÏïÑÎãàÎ©¥) -->
                    <!-- id Ïú†ÏùºÌïú ÏÑ†ÌÉùÏûê : likeCont'+${b.bId} -->
                    <div class="likeCont" th:id="'likeCont'+${b.bId}"> <!-- Ï¢ãÏïÑÏöî ÏÉÅÌÉú Î∂àÎü¨Ïò§Í∏∞ -> 1. Î∂ÄÎ™®ÌÅ¥ÎûòÏä§ÏóêÏÑú likeCont Í∞Ä ÏûàÎäîÍ±∏ Ï∞æÎäî / 2. Ïù¥Î≤§Ìä∏ Î∞úÏÉùÏãú id Î°ú Ï∞æÎäî Í≤É -->
                        <th:block th:if="${session.loginUser!=null}" th:with="likes=${b.likes}, id=${b.bId}" th:include="/board/loginLikes"></th:block> <!-- Î°úÍ∑∏Ïù∏ ÌñàÏùÑÎïå -->
                        <th:block th:unless="${session.loginUser!=null}" th:with="likes=${b.likes}, id=${b.bId}" th:include="/board/likes"></th:block> <!-- Î°úÍ∑∏Ïù∏ ÏïàÌñàÏùÑÎïå -->
                    </div>
                    <small class="text-muted">‚Ä¢</small>
                    <div class="viewCont ms-2"  data-bs-toggle="tooltip" data-bs-title="Ï°∞ÌöåÏàò" data-bs-placement="top">
                        <i class="bi bi-eye fs-4"></i>
                        Ï°∞ÌöåÏàò : <span th:text="${b.viewCount}"></span>
                    </div>
                    <small class="text-muted mx-2">‚Ä¢</small>
                    <div data-bs-toggle="tooltip" data-bs-title="ÏàòÏ†ïÏùº" data-bs-placement="top">
                        <small th:text="${#dates.format(b.updateTime,'yyy-MM-dd')}"></small>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
</html>